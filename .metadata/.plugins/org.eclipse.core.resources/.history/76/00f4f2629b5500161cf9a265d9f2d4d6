package du.iit.dhaka;

import java.awt.Color;
import java.awt.image.BufferedImage;
import java.io.File;
import java.io.IOException;
import java.util.ArrayList;

import javax.imageio.ImageIO;

public class ShobelDemo {

	
	public static void main(String[] args) throws IOException {
		//ArrayList<Integer> imgArray = new ArrayList<Integer>();
		
		BufferedImage image;
		   int width;
		   int height;
		   
		   File file=new File("shobel.png");
		   image = ImageIO.read(file);
		   width = image.getWidth();
	       height = image.getHeight();
	       int[][] imgArray=new int[height][width];
	       for(int i=0; i<height; i++){
	             
	             for(int j=0; j<width; j++){
	            	 
	            	 Color c = new Color(image.getRGB(i, j));
	            	 int grayvalue=(int) ( (0.3 * c.getRed()) + (0.59 * c.getGreen()) + (0.11 * c.getBlue()) );
	            	 
	            	 imgArray[i][j]=grayvalue;
	             }
	             
	       }
		   
	       BufferedImage bufferImage2=new BufferedImage(width, height,BufferedImage.TYPE_INT_RGB);
	       
	       for (int i = 0; i < height; i++) {
			for (int j = 0; j < width; j++) {
				int Pixel=imgArray[i][j];
				bufferImage2.setRGB(i, j,Pixel);
				
			}
		}
	       File outputfile = new File("D:/number/saved.jpg");
	         ImageIO.write(bufferImage2, "jpg", outputfile);
		   
		   
	}

}
